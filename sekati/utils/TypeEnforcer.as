/** * sekati.utils.TypeEnforcer * @version 1.0.3 * @author jason m horwitz | sekati.com * Copyright (C) 2008  jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.utils {	import sekati.log.Logger;		import flash.utils.getDefinitionByName;	import flash.utils.getQualifiedClassName;			/**	 * TypeEnforcer provides type helpers for class constructors.	 */	public class TypeEnforcer {		/**		 * Forcibly abstract a class instance from its abstract class (An abstract class has no direct instances, but has descendants with instances).		 * @param classInstance 	instance of the <code>Class</code>.		 * @param classAbstract 	the abstract <code>Class</code> reference.		 * @throws Error if the instance is not properly abstracted.		 * @example <listing version="3.0">		 * 	package {		 * 		public class AbstractExample {		 * 			public function AbstractExample( ) {		 * 				TypeEnforcer.enforceAbstract(this, AbstractExample);			 * 			}		 * 		}		 * 	}		 * </listing>		 */		public static function enforceAbstract(classInstance : *, classAbstract : Class) : void {			try {				if( Class( getDefinitionByName( getQualifiedClassName( classInstance ) ) ) == classAbstract ) {					throw new Error( getQualifiedClassName( classInstance ) + ' is an Abstract Class which must be subclassed: it cannot be instantiated directly.' );				}			} catch(e : Error) {				Logger.$.error( TypeEnforcer, "A non-critical error occured while enforcing the abstract: '" + e.message + "' This is usually caused by a loaded swf applicationDomain: you can ignore this error if you are not directly instantiating an Abstract Class.");			}		}		/**		 * Notify upon attempted instantiation of a static class (e.g. a class with <i>only static methods</i> which does not require instantiation).		 * @param classInstance 	instance of the <code>Class</code>.		 * @throws Error which describes the static nature of the class when called.		 * @example <listing version="3.0">		 * package {		 * 		public class StaticExample {		 * 			public function StaticExample() {		 * 				TypeEnforcer.enforceStatic( this );		 * 			}		 * 		}		 * }		 * </listing>		 */		public static function enforceStatic(classInstance : *) : void {			throw new Error( getQualifiedClassName( classInstance ) + " is a static class and cannot be instantiated." );		}				/**		 * TypeEnforcer Static Constructor		 */		public function TypeEnforcer() {			enforceStatic( this );		}			}}